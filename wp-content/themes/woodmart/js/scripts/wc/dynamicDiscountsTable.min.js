(o=>{o.each(["frontend/element_ready/wd_dynamic_discounts_table.default"],function(t,a){woodmartThemeModule.wdElementorAddAction(a,function(){woodmartThemeModule.renderDynamicDiscountsTable()})}),woodmartThemeModule.renderDynamicDiscountsTable=function(){var t=o(".variations_form");let n=o(".wd-dynamic-discounts"),a=n.html();function i(){o(".wd-dynamic-discounts tbody tr").each(function(){var t=o(this);let a=t.data("min");t.off("click").on("click",function(){o('.quantity input.qty[name="quantity"]').val(a).trigger("change")})})}function e(t,i){t.find("tbody tr").each(function(){var t=o(this),a=t.data("min"),n=t.data("max");!n&&a<=i||a<=i&&i<=n?t.addClass("wd-active"):t.removeClass("wd-active")})}t.each(function(){o(this).on("found_variation",function(t,a){o.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_discount_dynamic_discounts_table",variation_id:a.variation_id},beforeSend:function(){n.find(".wd-loader-overlay").addClass("wd-loading")},success:t=>{var a=n.attr("class");woodmartThemeModule.removeDuplicatedStylesFromHTML(t,function(t){n.replaceWith(t),(n=o(".wd-dynamic-discounts")).attr("class",a),i(),e(n,o(this).find('[name="quantity"]').val()),n.find(".wd-loader-overlay").removeClass("wd-loading")})},dataType:"json",method:"GET"})}).on("click",".reset_variations",function(){n.html(a),i(),e(o(".wd-dynamic-discounts"),o(this).closest("form").find('.quantity input.qty[name="quantity"]').val())})}),i(),o('.quantity input.qty[name="quantity"]').off("change").on("change",function(){e(n,o(this).val())})},o(document).ready(()=>{woodmartThemeModule.renderDynamicDiscountsTable()})})(jQuery);